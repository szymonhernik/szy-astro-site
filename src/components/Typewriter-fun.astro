---
const { text, backgroundColor = "yellow", typingDuration = 4 } = Astro.props;
---

<span
  class="typewriter"
  data-text={text}
  style={`--typing-duration: ${typingDuration}s; --background-color: ${backgroundColor};`}
  >{text}</span
>

<style>
  /* Google Fonts */
  @import url(https://fonts.googleapis.com/css?family=Anonymous+Pro);

  .typewriter {
    font-family: "Anonymous Pro", monospace;
    display: inline-block;
    position: relative;
    background-color: var(--background-color);
    font-size: 180%;
    text-align: center;
    /* white-space: nowrap */
    overflow: hidden;
    width: 0;
    border-right: 2px solid rgba(255, 255, 255, 0.75);
    animation:
      typewriter var(--typing-duration) steps(44) 1s 1 normal both,
      blinkTextCursor 500ms steps(44) infinite normal;
  }

  @keyframes typewriter {
    from {
      width: 0;
    }
    to {
      width: 100%;
    }
  }

  @keyframes blinkTextCursor {
    from {
      border-right-color: rgba(255, 255, 255, 0.75);
    }
    to {
      border-right-color: transparent;
    }
  }
</style>
