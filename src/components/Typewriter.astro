---
const { text } = Astro.props;
const typingDuration = Math.max(0.5, text.length * 0.1); // Minimum 2 seconds, or 0.1 second per character
---

<span
  class="typewriter"
  data-text={text}
  style={`--typing-duration: ${typingDuration}s;`}>{text}</span
>

<style>
  .typewriter {
    background-color: rgb(250, 230, 102);
    display: inline-block;
    overflow: hidden;
    white-space: nowrap;
    border-right: 2px solid;
    width: 0;
    animation:
      typing var(--typing-duration) steps(40, end) forwards,
      blink-caret 0.75s step-end infinite;
  }

  @keyframes typing {
    from {
      width: 0;
    }
    to {
      width: 100%;
    }
  }

  @keyframes blink-caret {
    from,
    to {
      border-color: transparent;
    }
    50% {
      border-color: black;
    }
  }
</style>
