---
const { currentPage } = Astro.props;

const navItems = [
  { href: "/im-reading/", label: "I'm reading" },
  { href: "/collaborations/", label: "Collaborations" },
  { href: "/photos/", label: "Photos" },
  { href: null },
  { href: "/about/", label: "About" },
  { href: "/contact/", label: "Contact" },
  { href: "/tags/", label: "Tags" },
  { href: "/about/", label: "About" },
  { href: "/contact/", label: "Contact" },
  { href: "/tags/", label: "Tags" },
  { href: "/about/", label: "About" },
  { href: "/contact/", label: "Contact" },
  { href: "/tags/", label: "Tags" },
];

const activeItem = navItems.find((item) => item.href === currentPage);
const isHomePage = currentPage === "/" || currentPage === "";
---

<div class="">
  <div class="md:hidden">
    {
      !isHomePage && activeItem && (
        <a href={activeItem.href} class="block">
          <p class="px-[10px] py-[20px] bg-white bg-opacity-70 md:py-[5px]">
            {activeItem.label}
          </p>
        </a>
      )
    }
  </div>
  <div
    class:list={[
      "divide-y-[1px] divide-black md:divide-none",
      { "hidden md:block": !isHomePage },
    ]}
  >
    {
      navItems.map((item) =>
        item.href === null ? (
          <p class="px-[10px] py-[20px] bg-white bg-opacity-50 md:bg-transparent">
            &nbsp;
          </p>
        ) : (
          <a href={item.href} class="block">
            <p
              class:list={[
                "px-[10px] py-[20px] bg-white hover:bg-opacity-70 md:py-[5px]",
                currentPage === item.href
                  ? "bg-opacity-70  md:bg-white md:bg-opacity-40"
                  : "bg-opacity-50 md:bg-transparent",
              ]}
            >
              {item.label}
            </p>
          </a>
        )
      )
    }
  </div>
</div>
